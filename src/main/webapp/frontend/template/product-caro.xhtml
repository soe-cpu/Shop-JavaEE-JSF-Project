<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

<ui:composition>
        <div class="card mb-3 shadow-sm zoom">
         <!-- <div class="noti"><div class="noti-new"> New</div></div> -->
          	<div class="row g-0">
				<div class="col-md-6">
					<h:graphicImage library="uploads" name="#{empty p.photo ? 'noimage.jpg' : p.photo}" styleClass="card-img-top" />
				</div>
				<div class="col-md-6">
   					<div class="card-body text-center mx-3">
      					<h5 class="card-title text-danger text-uppercase fw-bold py-2">#{p.name}</h5>
        				<p >#{p.price} Ks</p>
    				</div>
  				</div>
        	</div>
           	<div class="row  g-0 my-2">
           		<div class="col-8"><p>Updated at <small class="text-muted">#{p.updated_at}</small></p></div>
             		<div class="col-2">
         				<h:link outcome="/frontend/product-detail" styleClass="btn btn-danger">
         					<f:param name="pId" value="#{p.id}"></f:param>
			            <i class="far fa-eye"></i>
			        </h:link>
             		</div>
             		<div class="col-2">
             			<h:form>
             				<h:commandLink action="#{cartBean.addToCart(p.id)}" styleClass="btn btn-danger">
             					<i class="fas fa-cart-plus"></i>
             					<f:ajax render="cart-item-count"></f:ajax>
             				</h:commandLink>       								
             			</h:form>
             		</div>
           	</div>
        </div>
</ui:composition>
</html>