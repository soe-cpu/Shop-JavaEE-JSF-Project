<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

<ui:composition template="/frontend/template/template.xhtml">
	<ui:define name="title">Product Detail</ui:define>
	<ui:define name="main-content">
	
	
	<section class="product-detail">
		<div class="container">
			<div class="row">
				<div class="colmd-12">
					<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
					  <ol class="breadcrumb">
					    <li class="breadcrumb-item"><h:link outcome="/index.xhtml" styleClass="" aria-current="page">
				           <span>Home</span>
				       	</h:link></li>
					    <li class="breadcrumb-item active" aria-current="page">Checkout</li>
					  </ol>
					</nav>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<h3 class="py-4">Shipping Details</h3>
					<div class="row">
						<h:form>
							<div class="col-md-8 py-2">
								<div class="form-group">
									<label>Receiver Name *</label>
									<h:inputText validatorMessage="Require Receiver Name" value="#{placeOrderBean.receiverName}" id="receiverName" styleClass="form-control" >
										<f:validateRequired></f:validateRequired>									
									</h:inputText>
									<small><h:message for="receiverName" styleClass="text-danger"/></small>
								</div>
							</div>
							<div class="col-md-8 py-2">
								<div class="form-group">
									<label>Receiver Phone *</label>
									<h:inputText validatorMessage="Require Phone Number" value="#{placeOrderBean.receiverPhone}" id="receiverPhone" styleClass="form-control"  >
										<f:validateRequired></f:validateRequired>										
									</h:inputText>
									<small><h:message for="receiverPhone" styleClass="text-danger"/></small>
								</div>
							</div>
							<div class="col-md-8 py-2">
								<div class="form-group">
									<label>Receiver Address *</label>
									<h:inputText validatorMessage="Require Address" value="#{placeOrderBean.receiverAddress}" id="receiverAddress" styleClass="form-control"  >
										<f:validateRequired></f:validateRequired>										
									</h:inputText>
									<small><h:message for="receiverAddress" styleClass="text-danger"/></small>
								</div>
							</div>
							<div class="col-md-8">
								<div class="d-grid gap-2 py-3">
									<h:commandButton action="#{placeOrderBean.placeOrder()}" styleClass="btn bg" value="PLACE ORDER" />
								</div>
							</div>						
						</h:form>
					</div>
				</div>
				<div class="col-md-6 border shadow-sm">
					<h3 class="text-center py-4">Your Order</h3>
					<table class="table">
						<thead>
							<tr>
								<th>Product</th>
								<th>Total</th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat var="orderItem" value="#{cartBean.order.details}">
								<tr>
							      <td>#{orderItem.product.name} (#{orderItem.subQty})</td>
							      <td>#{orderItem.subPrice()}</td>
							    </tr>
							</ui:repeat>
							<tr>
								<th>Subtotal</th>
								<td><p class="text-danger">#{cartBean.order.totalAmount} Ks</p></td>
							</tr>
							<tr>
								<th>Total</th>
								<td><p class="text-danger">#{cartBean.order.totalAmount} Ks</p></td>
							</tr>
					  	</tbody>
					</table>	
				</div>
			</div>
		</div>
	</section>
	


	</ui:define>
</ui:composition>
</html>